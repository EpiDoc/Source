<?xml version="1.0" encoding="UTF-8"?>
<TEI xml:lang="en"
  xmlns="http://www.tei-c.org/ns/1.0"
  xmlns:rng="http://relaxng.org/ns/structure/1.0">
  <teiHeader>
    <fileDesc>
      <titleStmt>
	<title>Epidoc meta schema for examples</title>
	<author>Syd Bauman</author>
      </titleStmt>
      <publicationStmt>
	<p>Under the same copyright as epidoc.</p>
      </publicationStmt>
      <sourceDesc>
	<p>based almost entirely on the TEI's p5odds-ex.odd</p>
      </sourceDesc>
    </fileDesc>
  </teiHeader>
  <text>
    <body>
      <schemaSpec ident="epiMetaDoc-ex" start="egXML">
	<moduleRef key="core"/>
	<moduleRef key="tei"/>
	<moduleRef key="header"/>
	<moduleRef key="tagdocs"/>
	<moduleRef key="linking"/>
	<moduleRef key="figures"/>

	<macroSpec ident="anySchematron" mode="add">
	  <content>
	    <element xmlns="http://relaxng.org/ns/structure/1.0">
	      <nsName ns="http://www.ascc.net/xml/schematron"/>
	      <zeroOrMore>
		<choice>
		  <attribute>
		    <anyName/>
		  </attribute>
		  <ref name="anySchematron"/>
		  <text/>
		</choice>
	      </zeroOrMore>
	    </element>
	  </content>
	</macroSpec>

	<macroSpec ident="macro.schemapattern" mode="change"
	  module="tagdocs">
	  <content>
	    <group xmlns="http://relaxng.org/ns/structure/1.0">
	      <choice>
		<text/>
		<oneOrMore>
		  <ref name="pattern"/>
		</oneOrMore>
	      </choice>
	      <zeroOrMore>
		<ref name="anySchematron"/>
	      </zeroOrMore>
	    </group>
	  </content>
	</macroSpec>
	<classSpec mode="change" xmlns="http://www.tei-c.org/ns/1.0" module="tei" xml:id="GLOBAL" type="atts" ident="tei.global">
	  <attList>
	    <attDef ident="xml:id" usage="opt">
	      <datatype><rng:data xmlns:rng="http://relaxng.org/ns/structure/1.0" type="NMTOKEN"/></datatype>
	    </attDef>
	  </attList>
	</classSpec>
	<elementSpec ident="egXML" module="tagdocs" mode="change">
	  <content>
	    <group xmlns="http://relaxng.org/ns/structure/1.0">
	      <zeroOrMore >
		<choice>
		  <text/>
		  <ref name="p"/>
		  <ref name="hi"/>
		  <ref name="quote"/>
		  <ref name="altIdent"/>
		  <ref name="desc"/>
		  <ref name="gloss"/>
		  <ref name="name"/>
		  <ref name="date"/>
		  <ref name="dateRange"/>
		  <ref name="abbr"/>
		  <ref name="ptr"/>
		  <ref name="ref"/>
		  <ref name="list"/>
		  <ref name="item"/>
		  <ref name="head"/>
		  <ref name="note"/>
		  <ref name="graphic"/>
		  <ref name="biblItem"/>
		  <ref name="author"/>
		  <ref name="respStmt"/>
		  <ref name="resp"/>
		  <ref name="title"/>
		  <ref name="biblScope"/>
		  <ref name="teiHeader"/>
		  <ref name="fileDesc"/>
		  <ref name="titleStmt"/>
		  <ref name="funder"/>
		  <ref name="editionStmt"/>
		  <ref name="edition"/>
		  <ref name="publicationStmt"/>
		  <ref name="idno"/>
		  <ref name="availability"/>
		  <ref name="sourceDesc"/>
		  <ref name="namespace"/>
		  <ref name="regex"/>
		  <ref name="revisionDesc"/>
		  <ref name="change"/>
		  <ref name="att"/>
		  <ref name="code"/>
		  <ref name="eg"/>
		  <ref name="egXML" ns="http://www.tei-c.org/ns/Examples"/>
		  <ref name="gi"/>
		  <ref name="ident"/>
		  <ref name="tag"/>
		  <ref name="val"/>
		  <ref name="specList"/>
		  <ref name="specDesc"/>
		  <ref name="moduleRef"/>
		  <ref name="moduleSpec"/>
		  <ref name="schemaSpec"/>
		  <ref name="specGrp"/>
		  <ref name="specGrpRef"/>
		  <ref name="stringVal"/>
		  <ref name="elementSpec"/>
		  <ref name="classSpec"/>
		  <ref name="macroSpec"/>
		  <ref name="remarks"/>
		  <ref name="listRef"/>
		  <ref name="exemplum"/>
		  <ref name="classes"/>
		  <ref name="memberOf"/>
		  <ref name="content"/>
		  <ref name="attList"/>
		  <ref name="attDef"/>
		  <ref name="attRef"/>
		  <ref name="datatype"/>
		  <ref name="defaultVal"/>
		  <ref name="valDesc"/>
		  <ref name="valItem"/>
		  <ref name="valList"/>
		  <ref name="link"/>
		  <ref name="linkGrp"/>
		  <ref name="ab"/>
		  <ref name="seg"/>
		  <ref name="figure"/>
		  <ref name="figDesc"/>
		  <ref name="typog"/>
		  <ref name="typogBox"/>
		  <ref name="listResp"/>
		  <ref name="epiEntry"/>
		  <ref name="anySchematron"/>
		</choice>
	      </zeroOrMore>
	    </group>
	  </content>
	</elementSpec>
      </schemaSpec>
    </body>
  </text>
</TEI>
